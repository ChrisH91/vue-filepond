/*!
 * vue-filepond v4.0.1
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2018 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */
!function(global,factory){if("function"==typeof define&&define.amd)define("vueFilePond",["exports","vue","filepond"],factory);else if("undefined"!=typeof exports)factory(exports,require("vue"),require("filepond"));else{var mod_exports={};factory(mod_exports,global.Vue,global.FilePond),global.vueFilePond=mod_exports}}(this,function(exports,_vue,_filepond){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setOptions=void 0;var obj,_vue2=(obj=_vue)&&obj.__esModule?obj:{default:obj};
// Methods not made available to the component
var filteredComponentMethods=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],isSupported=(0,_filepond.supported)(),props={},events=[],watch={},instances=[],globalOptions={};
// Test if is supported on this client
exports.setOptions=function(options){globalOptions=Object.assign(globalOptions,options),instances.forEach(function(instance){instance.setOptions(globalOptions)})};exports.default=function(){
// register plugins in FilePond
_filepond.registerPlugin.apply(void 0,arguments),
// build events and props array
events.length=0;var _loop=function(prop){
// don't add events to the props array
if(/^on/.test(prop))return events.push(prop),"continue";
// get property type ( can be either a String or the type defined within FilePond )
var type;props[prop]=[String,(type=_filepond.OptionTypes[prop],{string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object}[type])],
// setup watcher
watch[prop]=function(value){this._pond[prop]=value}};for(var prop in _filepond.OptionTypes)_loop(prop);
// create 
return _vue2.default.component("FilePond",{name:"FilePond",props:props,watch:watch,render:function(h){return h("div",{class:{"filepond--wrapper":!0}},[h("input",{attrs:{id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}})])},
// Will setup FilePond instance when mounted
mounted:function(){var _this=this;
// exit here if not supported
if(isSupported){
// get pond element
this._element=this.$el.querySelector("input");
// Map FilePond callback methods to Vue $emitters
var options=events.reduce(function(obj,value){return obj[value]=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this.$emit.apply(_this,[value.substr(2)].concat(args))},obj},{}),attrs=Object.assign({},this.$attrs);
// Scoop up attributes that might not have been caught by Vue ( because the props object is extended dynamically )
// Create our pond
this._pond=(0,_filepond.create)(this._element,Object.assign(globalOptions,options,attrs,this.$options.propsData)),
// Copy instance method references to component instance
Object.keys(this._pond).filter(function(key){return!filteredComponentMethods.includes(key)}).forEach(function(key){_this[key]=_this._pond[key]}),
// Add to instances so we can apply global options when used
instances.push(this._pond)}},
// Will clean up FilePond instance when unmounted
beforeDestroy:function(){
// exit when no pond defined
if(this._pond){
// bye bye pond
this._pond.destroy();
// remove from instances
var index=instances.indexOf(this._pond);0<=index&&instances.splice(index,1)}}})}});